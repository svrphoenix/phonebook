"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[120],{5466:function(n,e,r){r.r(e),r.d(e,{default:function(){return Y}});var t,a,i,o,c,s,d,l,m,u=r(2791),h=r(9434),x=r(5218),p=r(890),b=r(3239),f=r(3634),j=r(1775),Z=r(1032),g=r(168),v=r(225),y=v.Z.div(t||(t=(0,g.Z)(["\n  margin: 0 auto;\n  padding: 1.25rem;\n  text-align: center;\n"]))),C=r(184),w=function(n){var e=n.children;return(0,C.jsx)(y,{children:e})},k=r(5705),P=r(6151),S=(0,v.Z)(k.l0)(a||(a=(0,g.Z)(["\n  padding: 1rem;\n  width: 30rem;\n  border: 1px solid black;\n  border-radius: 5px;\n  margin: 0 auto;\n  text-align: center;\n"]))),A=v.Z.div(i||(i=(0,g.Z)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  gap: 1rem;\n"]))),q=(v.Z.button(o||(o=(0,g.Z)(["\n  display: inline-block;\n  width: 10rem;\n  cursor: pointer;\n  border-radius: 0.25rem;\n  border: 0.0625rem solid gray;\n  :hover,\n  :focus {\n    color: rgb(255, 255, 255);\n    background-color: rgb(0, 0, 255);\n  }\n"]))),(0,v.Z)(k.gN)(c||(c=(0,g.Z)(["\n  display: block;\n  padding: 0.5rem;\n  width: 20rem;\n"])))),T=(0,v.Z)(k.Bc)(s||(s=(0,g.Z)(["\n  font-size: 14px;\n  color: red;\n"]))),I=v.Z.h2(d||(d=(0,g.Z)(["\n  margin-top: 0;\n  margin-bottom: 1rem;\n"]))),L=r(6727),N=L.Ry().shape({name:L.Z_().required("Required field!"),number:L.Z_().matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Phone number is not valid").required("Required field!")}),U=function(n){var e=n.title,r=n.defaultName,t=void 0===r?"":r,a=n.defaultNumber,i=void 0===a?"":a,o=n.handleSubmit;return(0,C.jsx)(k.J9,{initialValues:{name:t,number:i},validationSchema:N,onSubmit:o,children:(0,C.jsxs)(S,{children:[(0,C.jsx)(I,{children:e}),(0,C.jsxs)(A,{children:[(0,C.jsx)("div",{children:(0,C.jsxs)("label",{children:["Contact name",(0,C.jsx)(q,{type:"text",name:"name",placeholder:"John Smith",required:!0}),(0,C.jsx)(T,{name:"name",component:"p"})]})}),(0,C.jsx)("div",{children:(0,C.jsxs)("label",{children:["Phone number",(0,C.jsx)(q,{type:"tel",name:"number",placeholder:"+145678265867",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,C.jsx)(T,{name:"number",component:"p"})]})}),(0,C.jsx)(P.Z,{variant:"contained",type:"submit",sx:{width:200},children:e})]})]})})},E=function(){var n=(0,h.I0)(),e=(0,Z.gW)();return(0,C.jsx)(U,{title:"Add contact",handleSubmit:function(r,t){e.find((function(n){return n.name.toLowerCase()===r.name.toLowerCase()}))?x.Am.error('Contact "'.concat(r.name.toUpperCase(),'" is alredy in contacts')):e.find((function(n){return n.number===r.number}))?x.Am.error('Contact with number"'.concat(r.number,'" is alredy in contacts')):(n((0,f.uK)(r)),t.resetForm())}})},R=r(6459),z=r(4808),W=function(){var n=(0,h.I0)(),e=(0,Z.L0)(),r=!(0,Z.wg)();return(0,C.jsx)(R.Z,{variant:"standard",label:"Enter name to filter...",type:"text",size:"small",sx:{mt:1,mb:1},value:e,disabled:r,onChange:function(e){var r=e.currentTarget.value;n((0,z.x)(r))}})},F=v.Z.ul(l||(l=(0,g.Z)(["\n  margin-top: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  text-align: left;\n"]))),J=v.Z.li(m||(m=(0,g.Z)(["\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n"]))),K=r(9658),_=r(1614),B=r(9439),D=r(1889),G=r(5391),V=r(4554),$=r(1413),H=function(n){var e=n.contact,r=n.handleClose,t=e.id,a=e.name,i=e.number,o=(0,h.I0)(),c=(0,Z.gW)();return(0,C.jsx)(U,{title:" Update contact",defaultName:a,defaultNumber:i,handleSubmit:function(n){c.find((function(e){var r=e.name,a=e.id;return r.toLowerCase()===n.name.toLowerCase()&&a!==t}))?x.Am.error('Contact "'.concat(n.name.toUpperCase(),'" is alredy in contacts')):c.find((function(e){var r=e.number,a=e.id;return r===n.number&&a!==t}))?x.Am.error('Contact with number"'.concat(n.number,'" is alredy in contacts')):(o((0,f.Tk)((0,$.Z)((0,$.Z)({},n),{},{id:t}))),r())}})},M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",bgcolor:"background.paper",border:"2px solid #a19e9e",borderRadius:"3px",boxShadow:24,p:4};function O(n){var e=n.open,r=n.handleClose,t=n.contact;return(0,C.jsx)(G.Z,{open:e,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,C.jsxs)(V.Z,{sx:M,children:[(0,C.jsx)(p.Z,{id:"modal-modal-title",variant:"h6",component:"h2",sx:{display:"flex",justifyContent:"center",mb:2},children:"Contact Editor"}),(0,C.jsx)(H,{contact:t,handleClose:r})]})})}var Q=function(n){var e=n.contact,r=e.id,t=e.name,a=e.number,i=(0,h.I0)(),o=(0,u.useState)(!1),c=(0,B.Z)(o,2),s=c[0],d=c[1];return(0,C.jsxs)(D.ZP,{container:!0,spacing:3,children:[(0,C.jsx)(D.ZP,{item:!0,xs:4,children:(0,C.jsx)("p",{children:t})}),(0,C.jsx)(D.ZP,{item:!0,xs:4,children:(0,C.jsx)("p",{children:a})}),(0,C.jsx)(D.ZP,{item:!0,xs:2,children:(0,C.jsx)(P.Z,{type:"button",variant:"contained",onClick:function(){return i((0,f.GK)(r))},children:"Delete"})}),(0,C.jsxs)(D.ZP,{item:!0,xs:2,children:[(0,C.jsx)(P.Z,{type:"button",variant:"contained",onClick:function(){return d(!0)},children:"Edit"}),(0,C.jsx)(O,{open:s,handleClose:function(){return d(!1)},contact:e})]})]})},X=function(){var n=(0,Z.wg)();return n?n.length>0?(0,C.jsx)(_.Z,{maxWidth:"sm",children:(0,C.jsx)(F,{children:n.map((function(n){return(0,C.jsx)(J,{children:(0,C.jsx)(Q,{contact:n})},n.id)}))})}):(0,C.jsx)(K.Z,{severity:"warning",sx:{marginTop:1},children:"There are no contacts matching the filter"}):(0,C.jsx)(K.Z,{severity:"warning",sx:{marginTop:1},children:"There are no contacts in adress book..."})};var Y=function(){var n=(0,h.I0)(),e=(0,h.v9)(j.xU),r=(0,h.v9)(j.zh),t=(0,Z.aC)().user;return(0,u.useEffect)((function(){n((0,f.yF)())}),[n]),(0,C.jsx)("main",{children:r?x.Am.error("Unable to load data from database!"):(0,C.jsxs)(w,{children:[(0,C.jsx)(p.Z,{variant:"h3",component:"h1",color:"primary.main",children:'Contacts of user "'.concat(t.name,'"')}),(0,C.jsx)(E,{title:"Add contact"}),(0,C.jsx)(p.Z,{variant:"h5",component:"h2",color:"primary.main",mt:"10px",align:"center",children:"Contacts list"}),(0,C.jsx)(W,{}),e?(0,C.jsx)("div",{children:(0,C.jsx)(b.Z,{})}):(0,C.jsx)(X,{})]})})}}}]);
//# sourceMappingURL=120.372a845b.chunk.js.map